<!DOCTYPE html>
 <html>
   <head>
      <title>Carpool: All Rides</title>
     
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">

      </head>
   <body>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='styles/style.css') }}">
    <div class="form-body">
        <div class="row">
            <div class="form-holder">
                <div class="form-content">
                    <div class="form-items">
                        <h3>Register Today</h3>
                        <p>Fill in the data below.</p>
                        {% if error %}
                            <div class="create_user_error">
                                <p>
                                    <strong>Error:</strong> {{ error }}
                                </p>
                            </div>
                        {% endif %}
                        {% if success %}
                            <div class="create_user_success">
                                <p>
                                    {{ success }}
                                </p>
                            </div>
                        {% endif %}
                        <form class="requires-validation" novalidate action="createuser" method="get">

                            <div class="col-md-12">
                               <input class="form-control" type="text" name="name" placeholder="Full Name" required>
                               <div class="valid-feedback">Username field is valid!</div>
                               <div class="invalid-feedback">Username field cannot be blank!</div>
                            </div>

                            <div class="col-md-12">
                                <input class="form-control" type="text" name="major" placeholder="Major" required>
                            </div>

                            <div class="col-md-12">
                                <input class="form-control" type="text" name="age" placeholder="Age" required>
                            </div>

                            <div class="col-md-12">
                                <input class="form-control" type="email" name="email" placeholder="E-mail Address" required>
                                <div class="valid-feedback">Email field is valid!</div>
                                 <div class="invalid-feedback">Email field cannot be blank!</div>
                            </div>

                           <div class="col-md-12">
                              <input class="form-control" type="password" name="password" placeholder="Password" required>
                              <div class="valid-feedback">Password field is valid!</div>
                               <div class="invalid-feedback">Password field cannot be blank!</div>
                           </div>

                           <div class="col-md-12">
                            <input class="form-control" type="bestline" name="bestline" placeholder="Your Favorite Line" required>
                            <div class="valid-feedback">Bestline field is valid!</div>
                             <div class="invalid-feedback">Bestline field cannot be blank!</div>
                         </div>


                           <div class="col-md-12 mt-3">
                            <label class="mb-3 mr-1" for="gender">Gender: </label>

                            <input type="radio" class="btn-check" name="gender" id = "male" value="male" autocomplete="off" required>
                            <label class="btn btn-sm btn-outline-secondary" for="male">Male</label>

                            <input type="radio" class="btn-check" name="gender" id = "female" value="female" autocomplete="off" required>
                            <label class="btn btn-sm btn-outline-secondary" for="female">Female</label>

                            <div class="valid-feedback mv-up">You selected a gender!</div>
                                <div class="invalid-feedback mv-up">Please select a gender!</div>
                            </div>

                        <div class="form-check">
                          <input class="form-check-input" type="checkbox" value="" id="invalidCheck" required>
                          <label class="form-check-label">I confirm that all data are correct</label>
                          <div class="invalid-feedback">Please confirm that the entered data are all correct!</div>
                        </div>
                  
                            <div class="form-button mt-3">
                                <button id="submit" type="submit" class="btn btn-primary">Register</button>
                            </div>
                            <div class="form-button mt-3">
                                
                                <a href="{{ url_for('login') }}"><p>Click here to log in</p></a>
                             
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="text/javascript" >
        'use strict'
        const forms = document.querySelectorAll('.requires-validation')
        Array.from(forms)
        .forEach(function (form) {
            
            form.addEventListener('submit', function (event) {
                console.log(form.checkValidity())
            if (!form.checkValidity()) {

                event.preventDefault()
                event.stopPropagation()
            }
       
            form.classList.add('was-validated')
           
            
        }, false)
        
         })
  
        var success = document.querySelector('.create_user_success')
        if (success) {
            window.setTimeout(
                function(){
                    // Redirect to login page in 3 seconds
                    window.location.href = "/login";
                }, 3000
            );
        }
        
        </script>
   </body>
 </html>